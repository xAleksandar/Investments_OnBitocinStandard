<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Measure Everything in Bitcoin</title>
    <meta name="title-key" content="home.title">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module" src="translation-service.js"></script>
    <style>
        /* Custom dropdown styles */
        .custom-select {
            position: relative;
            display: block;
            width: 100%;
        }
        
        .custom-select-trigger {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            cursor: pointer;
            user-select: none;
        }
        
        .custom-select-trigger:focus {
            outline: none;
            border-color: #3b82f6;
        }
        
        .custom-select-arrow {
            width: 0;
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 4px solid #6b7280;
            transition: transform 0.2s;
        }
        
        .custom-select.open .custom-select-arrow {
            transform: rotate(180deg);
        }
        
        .custom-select-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-top: none;
            border-radius: 0 0 0.5rem 0.5rem;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }
        
        .custom-select.open .custom-select-options {
            display: block;
        }
        
        .custom-select-option {
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .custom-select-option:hover {
            background-color: #f3f4f6;
        }
        
        .custom-select-option:last-child {
            border-bottom: none;
        }
        
        .custom-select-option.selected {
            background-color: #dbeafe;
            color: #1d4ed8;
        }
        
        /* Hide native selects on mobile */
        @media (max-width: 768px) {
            .native-select {
                display: none;
            }
            .custom-select {
                display: block;
            }
        }
        
        /* Show native selects on desktop */
        @media (min-width: 769px) {
            .native-select {
                display: block;
            }
            .custom-select {
                display: none;
            }
        }

        /* Suggestions Floating Button Styles */
        .suggestions-float-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #f97316, #ea580c);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
            animation: float-glow 3s ease-in-out infinite;
        }

        .suggestions-float-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(249, 115, 22, 0.6);
        }

        @keyframes float-glow {
            0%, 100% {
                box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
            }
            50% {
                box-shadow: 0 4px 20px rgba(249, 115, 22, 0.7), 0 0 30px rgba(249, 115, 22, 0.3);
            }
        }

        /* Suggestions Modal Styles */
        .suggestions-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .suggestions-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .suggestions-modal-content {
            background: white;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .suggestions-modal.show .suggestions-modal-content {
            transform: translateY(0);
        }

        .suggestions-tab-header {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
        }

        .suggestions-tab {
            flex: 1;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-weight: 500;
            color: #6b7280;
            transition: all 0.2s ease;
        }

        .suggestions-tab.active {
            color: #f97316;
            border-bottom: 2px solid #f97316;
            background: #fff7ed;
        }

        .suggestions-tab-content {
            padding: 1.5rem;
            max-height: 60vh;
            overflow-y: auto;
        }

        .suggestions-form-group {
            margin-bottom: 1rem;
        }

        .suggestions-form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #374151;
        }

        .suggestions-radio-group {
            display: flex;
            gap: 1rem;
        }

        .suggestions-radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .suggestions-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 0.875rem;
        }

        .suggestions-input:focus {
            outline: none;
            border-color: #f97316;
            ring: 2px;
            ring-color: rgba(249, 115, 22, 0.2);
        }

        .suggestions-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .suggestions-btn {
            background: #f97316;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .suggestions-btn:hover {
            background: #ea580c;
        }

        .suggestions-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .suggestions-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #6b7280;
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .suggestions-close:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .suggestion-item {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .suggestion-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .suggestion-type {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .suggestion-type.bug {
            background: #fef2f2;
            color: #dc2626;
        }

        .suggestion-type.suggestion {
            background: #f0f9ff;
            color: #2563eb;
        }

        .suggestion-status {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .suggestion-status.open {
            background: #dcfce7;
            color: #16a34a;
        }

        .suggestion-status.closed {
            background: #f3f4f6;
            color: #6b7280;
        }

        .suggestion-meta {
            font-size: 0.75rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .suggestion-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .suggestion-description {
            color: #4b5563;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .suggestion-reply {
            background: #fffbeb;
            border-left: 3px solid #f59e0b;
            padding: 0.75rem;
            margin-top: 0.5rem;
            border-radius: 0 0.25rem 0.25rem 0;
        }

        .suggestion-reply-label {
            font-size: 0.75rem;
            font-weight: 500;
            color: #92400e;
            margin-bottom: 0.25rem;
        }

        .suggestion-reply-text {
            color: #92400e;
            font-size: 0.875rem;
        }

        /* Admin reply conversation history styles */
        .admin-reply-item {
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #f3f4f6;
        }

        .admin-reply-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .admin-reply-timestamp {
            color: #059669;
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .admin-reply-content {
            color: #92400e;
            font-size: 0.875rem;
            line-height: 1.5;
            white-space: pre-wrap;
        }

        .rate-limit-warning {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }

        .suggestion-success-message {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            animation: slideInSuccess 0.3s ease-out;
        }

        .suggestion-success-message .success-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .suggestion-success-message .success-text {
            flex: 1;
        }

        @keyframes slideInSuccess {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .suggestion-success-message.fade-out {
            animation: fadeOutSuccess 0.5s ease-out forwards;
        }

        @keyframes fadeOutSuccess {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        /* Mobile responsiveness */
        @media (max-width: 640px) {
            .suggestions-float-btn {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .suggestions-modal-content {
                width: 95%;
                margin: 1rem;
            }

            .suggestions-tab-content {
                padding: 1rem;
            }
        }

        /* Admin Dashboard Styles */
        .active-filter {
            background-color: #3b82f6 !important;
            color: white !important;
        }

        .admin-suggestion-item {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.2s ease;
        }

        .admin-suggestion-item:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .admin-suggestion-header {
            display: flex;
            align-items: center;
            justify-content: between;
            gap: 1rem;
            margin-bottom: 0.75rem;
            flex-wrap: wrap;
        }

        .admin-type-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .admin-type-badge.bug {
            background: #fef2f2;
            color: #dc2626;
        }

        .admin-type-badge.suggestion {
            background: #f0f9ff;
            color: #2563eb;
        }

        .admin-status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .admin-status-badge.open {
            background: #dcfce7;
            color: #16a34a;
        }

        .admin-status-badge.closed {
            background: #f3f4f6;
            color: #6b7280;
        }

        .admin-user-info {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .admin-suggestion-title {
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
        }

        .admin-suggestion-description {
            color: #4b5563;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .admin-reply-section {
            background: #fff7ed;
            border: 1px solid #fed7aa;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .admin-reply-form {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .admin-reply-textarea {
            width: 100%;
            min-height: 80px;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            resize: vertical;
            font-size: 0.875rem;
        }

        .admin-reply-textarea:focus {
            outline: none;
            border-color: #3b82f6;
            ring: 2px;
            ring-color: rgba(59, 130, 246, 0.2);
        }

        .admin-action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .admin-action-btn.primary {
            background: #3b82f6;
            color: white;
        }

        .admin-action-btn.primary:hover {
            background: #2563eb;
        }

        .admin-action-btn.secondary {
            background: #f59e0b;
            color: white;
        }

        .admin-action-btn.secondary:hover {
            background: #d97706;
        }

        .admin-action-btn.danger {
            background: #ef4444;
            color: white;
        }

        .admin-action-btn.danger:hover {
            background: #dc2626;
        }

        .admin-action-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }

        .admin-existing-reply {
            background: #ecfdf5;
            border-left: 4px solid #10b981;
            padding: 1rem;
            margin-top: 0.5rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }

        .admin-existing-reply-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: #047857;
            margin-bottom: 0.5rem;
        }

        .admin-existing-reply-text {
            color: #065f46;
            font-size: 0.875rem;
        }

        /* Custom Tooltip Styles */
        .custom-tooltip {
            position: fixed;
            background: #1f2937;
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.4;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.2s ease, transform 0.2s ease;
            max-width: 350px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            white-space: pre-line;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        .custom-tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        .custom-tooltip::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid #1f2937;
        }

        /* Hover cursor for performance metrics */
        .performance-metric {
            cursor: help;
        }
        /* Language switcher styles */
        .language-switcher {
            position: relative;
            display: inline-block;
        }

        .language-switcher-trigger {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
        }

        .language-switcher-trigger:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .language-switcher-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 140px;
            display: none;
        }

        .language-switcher.open .language-switcher-dropdown {
            display: block;
        }

        .language-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s;
            color: #374151;
            font-size: 0.875rem;
        }

        .language-option:hover {
            background-color: #f3f4f6;
        }

        .language-option.active {
            background-color: #fef3c7;
            color: #d97706;
        }

        .language-flag {
            display: inline-block;
            font-size: 20px; /* larger emoji flag */
            line-height: 1;
            width: auto;
            height: auto;
            flex-shrink: 0;
        }

        .flag-en {
            background: linear-gradient(to bottom, #012169 33%, white 33%, white 66%, #c8102e 66%);
        }

        .flag-bg {
            background: linear-gradient(to bottom, white 33%, #00966e 33%, #00966e 66%, #d62612 66%);
        }

        /* Mobile Navigation Styles */
        .hamburger-line {
            transform-origin: center;
        }

        #mobileMenuBtn.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        #mobileMenuBtn.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        #mobileMenuBtn.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        #mobileMenu {
            animation: fadeIn 0.3s ease-out;
        }

        #mobileMenu.closing {
            animation: fadeOut 0.3s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        .mobile-nav-link {
            transition: all 0.2s ease;
        }

        .mobile-nav-link:hover {
            transform: translateX(8px);
        }

        .mobile-lang-option {
            transition: all 0.2s ease;
            border-radius: 8px;
            padding: 8px;
        }

        .mobile-lang-option:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .mobile-lang-option.active {
            background-color: rgba(255, 255, 255, 0.2);
        }
    </style>
<script>
// Module loader for the new modular architecture
(function() {
  'use strict';

  const moduleCache = new Map();
  const loadingModules = new Map();

  // Simple module loader for ES6 modules in development
  window.loadModule = async function(modulePath) {
    if (moduleCache.has(modulePath)) {
      return moduleCache.get(modulePath);
    }

    if (loadingModules.has(modulePath)) {
      return loadingModules.get(modulePath);
    }

    const loadPromise = new Promise(async (resolve, reject) => {
      try {
        console.log('üì¶ Loading module:', modulePath);

        // Dynamic import for ES6 modules
        const module = await import(modulePath);
        moduleCache.set(modulePath, module);
        resolve(module);
      } catch (error) {
        console.error('‚ùå Failed to load module:', modulePath, error);
        reject(error);
      }
    });

    loadingModules.set(modulePath, loadPromise);
    const result = await loadPromise;
    loadingModules.delete(modulePath);

    return result;
  };

  // Polyfill for older browsers
  if (!window.import) {
    window.import = window.loadModule;
  }

  console.log('‚úÖ Module loader initialized');
})();
</script>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Navigation Bar -->
    <nav class="bg-orange-500 text-white p-4">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-6">
                <h1 class="text-xl font-bold" data-translate="home.title">Measure Everything in Bitcoin</h1>
                <div class="hidden md:flex space-x-4">
                    <a href="#home" class="text-white hover:text-orange-200" data-translate="navigation.home">Home</a>
                    <a href="#assets" class="text-white hover:text-orange-200" data-translate="navigation.assets">Assets</a>
                    <a href="#portfolio" class="text-white hover:text-orange-200" data-translate="navigation.portfolio">Portfolio</a>
                    <a href="#education" class="text-white hover:text-orange-200" data-translate="navigation.education">Learn</a>
                    <a href="#admin" id="navAdminLink" class="text-white hover:text-orange-200 hidden" data-translate="navigation.admin">Admin</a>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <!-- Hamburger Menu Button (Mobile Only) -->
                <button id="mobileMenuBtn" class="md:hidden flex flex-col justify-center items-center w-8 h-8 space-y-1">
                    <span class="hamburger-line block w-6 h-0.5 bg-white transition-all duration-300"></span>
                    <span class="hamburger-line block w-6 h-0.5 bg-white transition-all duration-300"></span>
                    <span class="hamburger-line block w-6 h-0.5 bg-white transition-all duration-300"></span>
                </button>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-4">
                    <!-- Language Switcher -->
                    <div class="language-switcher" id="languageSwitcher">
                        <div class="language-switcher-trigger" id="languageTrigger">
                            <div class="language-flag flag-en" id="currentFlag"></div>
                            <span id="currentLanguage">EN</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        <div class="language-switcher-dropdown" id="languageDropdown">
                            <div class="language-option" data-lang="en">
                                <div class="language-flag flag-en"></div>
                                <span>English</span>
                            </div>
                            <div class="language-option" data-lang="bg">
                                <div class="language-flag flag-bg"></div>
                                <span>–ë—ä–ª–≥–∞—Ä—Å–∫–∏</span>
                            </div>
                        </div>
                    </div>

                    <div id="navAuth">
                        <button id="navLoginBtn" class="bg-orange-600 px-4 py-2 rounded hover:bg-orange-700" data-translate="navigation.login">Login / Sign Up</button>
                        <div id="navUserInfo" class="hidden flex items-center space-x-4">
                            <span id="navUsername"></span>
                            <button id="navLogoutBtn" class="bg-orange-600 px-3 py-1 rounded" data-translate="navigation.logout">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobileMenu" class="md:hidden fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
            <div class="bg-orange-500 w-full min-h-screen p-4">
                <!-- Mobile Menu Header -->
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-xl font-bold" data-translate="home.title">Measure Everything in Bitcoin</h1>
                    <button id="closeMobileMenu" class="text-white text-2xl">&times;</button>
                </div>

                <!-- Mobile Navigation Links -->
                <div class="space-y-6">
                    <a href="#home" class="block text-lg text-white hover:text-orange-200 mobile-nav-link" data-translate="navigation.home">Home</a>
                    <a href="#assets" class="block text-lg text-white hover:text-orange-200 mobile-nav-link" data-translate="navigation.assets">Assets</a>
                    <a href="#portfolio" class="block text-lg text-white hover:text-orange-200 mobile-nav-link" data-translate="navigation.portfolio">Portfolio</a>
                    <a href="#education" class="block text-lg text-white hover:text-orange-200 mobile-nav-link" data-translate="navigation.education">Learn</a>
                    <a href="#admin" id="mobileNavAdminLink" class="block text-lg text-white hover:text-orange-200 mobile-nav-link hidden" data-translate="navigation.admin">Admin</a>
                </div>

                <!-- Mobile Language Switcher -->
                <div class="mt-8 pt-6 border-t border-orange-400">
                    <div class="mb-4">
                        <span class="text-sm text-orange-200 block mb-2">Language / –ï–∑–∏–∫</span>
                        <div class="space-y-2">
                            <button class="mobile-lang-option flex items-center gap-3 w-full text-left py-2" data-lang="en">
                                <div class="language-flag flag-en"></div>
                                <span>English</span>
                            </button>
                            <button class="mobile-lang-option flex items-center gap-3 w-full text-left py-2" data-lang="bg">
                                <div class="language-flag flag-bg"></div>
                                <span>–ë—ä–ª–≥–∞—Ä—Å–∫–∏</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Mobile Auth Section -->
                <div class="mt-6 pt-6 border-t border-orange-400">
                    <div id="mobileNavAuth">
                        <button id="mobileNavLoginBtn" class="w-full bg-orange-600 px-4 py-3 rounded hover:bg-orange-700 text-center" data-translate="navigation.login">Login / Sign Up</button>
                        <div id="mobileNavUserInfo" class="hidden space-y-3">
                            <div class="text-center">
                                <span id="mobileNavUsername" class="text-lg"></span>
                            </div>
                            <button id="mobileNavLogoutBtn" class="w-full bg-orange-600 px-4 py-3 rounded hover:bg-orange-700 text-center" data-translate="navigation.logout">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div id="app">
        <!-- Home Page (Public) -->
        <div id="homePage" class="">
            <!-- Hero Section -->
            <div class="bg-gradient-to-b from-orange-500 to-orange-400 text-white py-16">
                <div class="max-w-6xl mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-5xl font-bold mb-4" data-translate="home.title">Measure Everything in Bitcoin</h1>
                    <p class="text-xl mb-8" data-translate="home.description">See how traditional assets perform when priced in the hardest money ever created</p>
                    <button id="heroLoginBtn" class="bg-white text-orange-500 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100" data-translate="home.getStarted">
                        Start Your Portfolio
                    </button>
                </div>
            </div>

            <!-- Example Portfolio Section -->
            <div class="max-w-6xl mx-auto px-6 py-12">
                <div class="bg-white rounded-lg shadow-md p-8 mb-8">
                    <h2 class="text-2xl font-bold mb-6" data-translate="home.examplePortfolioTitle">Example Portfolio Performance</h2>
                    <p class="text-gray-600 mb-4" data-translate="home.portfolioDescription">How a traditional portfolio performs when measured in Bitcoin:</p>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-yellow-50 p-4 rounded">
                            <div class="flex items-center mb-2">
                                <span class="text-2xl mr-2">ü•á</span>
                                <span class="font-semibold">20% Gold (XAU)</span>
                            </div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded">
                            <div class="flex items-center mb-2">
                                <span class="text-2xl mr-2">üìà</span>
                                <span class="font-semibold">30% S&P 500 (SPY)</span>
                            </div>
                        </div>
                        <div class="bg-green-50 p-4 rounded">
                            <div class="flex items-center mb-2">
                                <span class="text-2xl mr-2">üè¢</span>
                                <span class="font-semibold">50% Real Estate (VNQ)</span>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="text-center p-4 bg-gray-50 rounded">
                            <div class="text-sm text-gray-600" data-translate="time.oneYear">1 Year</div>
                            <div id="perf1y" class="text-2xl font-bold text-red-600">-15%</div>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded">
                            <div class="text-sm text-gray-600" data-translate="time.twoYears">2 Years</div>
                            <div id="perf2y" class="text-2xl font-bold text-red-600">-35%</div>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded">
                            <div class="text-sm text-gray-600" data-translate="time.fiveYears">5 Years</div>
                            <div id="perf5y" class="text-2xl font-bold text-red-600">-68%</div>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded">
                            <div class="text-sm text-gray-600" data-translate="time.tenYears">10 Years</div>
                            <div id="perf10y" class="text-2xl font-bold text-red-600">-92%</div>
                        </div>
                    </div>
                    <p class="text-sm text-gray-500 mt-4" data-translate="home.portfolioDisclaimer">* Performance calculated in Bitcoin terms. Most traditional assets lose value against Bitcoin over time.</p>
                </div>

                <!-- Popular Assets Grid -->
                <div class="bg-white rounded-lg shadow-md p-8">
                    <h2 class="text-2xl font-bold mb-6" data-translate="home.popularAssetsTitle">Popular Assets vs Bitcoin</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow relative" data-asset="XAU" onclick="window.app.navigateToAsset('XAU')" style="z-index: 10;">
                            <h3 class="font-semibold mb-2" data-translate="home.goldBitcoin">Gold / Bitcoin</h3>
                            <div id="chartGold" class="h-48 bg-gray-100 rounded mb-3"></div>
                            <div class="space-y-1">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="home.currentPrice">Current Price:</span>
                                    <span id="goldPrice" class="font-mono">0.00000000</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="time.fiveYear">5 Year:</span>
                                    <span id="goldChange" class="font-semibold">-</span>
                                </div>
                            </div>
                        </div>
                        <div class="border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow relative" data-asset="SPY" onclick="window.app.navigateToAsset('SPY')" style="z-index: 10;">
                            <h3 class="font-semibold mb-2" data-translate="home.spBitcoin">S&P 500 / Bitcoin</h3>
                            <div id="chartSPY" class="h-48 bg-gray-100 rounded mb-3"></div>
                            <div class="space-y-1">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="home.currentPrice">Current Price:</span>
                                    <span id="spyPrice" class="font-mono">0.00000000</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="time.fiveYear">5 Year:</span>
                                    <span id="spyChange" class="font-semibold">-</span>
                                </div>
                            </div>
                        </div>
                        <div class="border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow relative" data-asset="AAPL" onclick="window.app.navigateToAsset('AAPL')" style="z-index: 10;">
                            <h3 class="font-semibold mb-2" data-translate="home.appleBitcoin">Apple / Bitcoin</h3>
                            <div id="chartAAPL" class="h-48 bg-gray-100 rounded mb-3"></div>
                            <div class="space-y-1">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="home.currentPrice">Current Price:</span>
                                    <span id="aaplPrice" class="font-mono">0.00000000</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="time.fiveYear">5 Year:</span>
                                    <span id="aaplChange" class="font-semibold">-</span>
                                </div>
                            </div>
                        </div>
                        <div class="border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow relative" data-asset="TSLA" onclick="window.app.navigateToAsset('TSLA')" style="z-index: 10;">
                            <h3 class="font-semibold mb-2" data-translate="home.teslaBitcoin">Tesla / Bitcoin</h3>
                            <div id="chartTSLA" class="h-48 bg-gray-100 rounded mb-3"></div>
                            <div class="space-y-1">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="home.currentPrice">Current Price:</span>
                                    <span id="tslaPrice" class="font-mono">0.00000000</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="time.fiveYear">5 Year:</span>
                                    <span id="tslaChange" class="font-semibold">-</span>
                                </div>
                            </div>
                        </div>
                        <div class="border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow relative" data-asset="VNQ" onclick="window.app.navigateToAsset('VNQ')" style="z-index: 10;">
                            <h3 class="font-semibold mb-2" data-translate="home.realEstateBitcoin">Real Estate / Bitcoin</h3>
                            <div id="chartVNQ" class="h-48 bg-gray-100 rounded mb-3"></div>
                            <div class="space-y-1">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="home.currentPrice">Current Price:</span>
                                    <span id="vnqPrice" class="font-mono">0.00000000</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="time.fiveYear">5 Year:</span>
                                    <span id="vnqChange" class="font-semibold">-</span>
                                </div>
                            </div>
                        </div>
                        <div class="border rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow relative" data-asset="WTI" onclick="window.app.navigateToAsset('WTI')" style="z-index: 10;">
                            <h3 class="font-semibold mb-2" data-translate="home.oilBitcoin">Oil / Bitcoin</h3>
                            <div id="chartOil" class="h-48 bg-gray-100 rounded mb-3"></div>
                            <div class="space-y-1">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="home.currentPrice">Current Price:</span>
                                    <span id="oilPrice" class="font-mono">0.00000000</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600" data-translate="time.fiveYear">5 Year:</span>
                                    <span id="oilChange" class="font-semibold">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Education Page -->
        <div id="educationPage" class="hidden bg-gray-50 min-h-screen">
            <div id="educationContent"></div>
        </div>

        <!-- Components Showcase Page -->
        <div id="componentsPage" class="hidden bg-gray-50 min-h-screen">
            <div id="main-content"></div>
        </div>

        <!-- Admin Dashboard Page (Admin Only) -->
        <div id="adminPage" class="hidden">
            <div class="max-w-6xl mx-auto px-6 py-12">
                <div class="bg-white rounded-lg shadow-md p-8">
                    <h2 class="text-2xl font-bold mb-6">Admin Dashboard - Suggestions Management</h2>

                    <!-- Statistics Bar -->
                    <div id="adminStats" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-blue-50 p-4 rounded text-center">
                            <div class="text-2xl font-bold text-blue-600" id="statsOpen">-</div>
                            <div class="text-sm text-blue-800">Open</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded text-center">
                            <div class="text-2xl font-bold text-gray-600" id="statsClosed">-</div>
                            <div class="text-sm text-gray-800">Closed</div>
                        </div>
                        <div class="bg-red-50 p-4 rounded text-center">
                            <div class="text-2xl font-bold text-red-600" id="statsBugs">-</div>
                            <div class="text-sm text-red-800">Bug Reports</div>
                        </div>
                        <div class="bg-green-50 p-4 rounded text-center">
                            <div class="text-2xl font-bold text-green-600" id="statsSuggestions">-</div>
                            <div class="text-sm text-green-800">Suggestions</div>
                        </div>
                    </div>

                    <!-- Filters and Search -->
                    <div class="mb-6">
                        <div class="flex flex-wrap gap-4 items-center">
                            <div class="flex gap-2">
                                <button id="filterAll" class="px-4 py-2 bg-blue-500 text-white rounded active-filter">All</button>
                                <button id="filterOpen" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Open</button>
                                <button id="filterClosed" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Closed</button>
                                <button id="filterBugs" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Bugs</button>
                                <button id="filterSuggestions" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Suggestions</button>
                            </div>
                            <div class="flex-1 min-w-64">
                                <input type="text" id="adminSearch" placeholder="Search by title, description, or user email..."
                                       class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                            </div>
                        </div>
                    </div>

                    <!-- Suggestions List -->
                    <div id="adminSuggestionsList">
                        <div class="text-center text-gray-500 py-8">Loading suggestions...</div>
                    </div>

                    <!-- Pagination -->
                    <div id="adminPagination" class="flex justify-center items-center gap-4 mt-6 hidden">
                        <button id="prevPage" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50" disabled>Previous</button>
                        <span id="pageInfo" class="text-gray-600">Page 1 of 1</span>
                        <button id="nextPage" class="px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50" disabled>Next</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Assets Info Page (Public) -->
        <div id="assetsPage" class="hidden">
            <div class="max-w-6xl mx-auto px-6 py-12">
                <div class="bg-white rounded-lg shadow-md p-8">
                    <h2 class="text-2xl font-bold mb-6" data-translate="assets.assetInformation">Asset Information</h2>

                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2" data-translate="assets.selectAsset">Select Asset to Analyze</label>
                        <select id="assetSelector" class="w-full md:w-auto px-4 py-2 border rounded-lg">
                            <!-- Popular Assets -->
                            <optgroup label="üî•" data-translate="assets.categories.popularAssets">
                                <option value="XAU" data-translate="assets.assetNames.goldXAU">Gold (XAU)</option>
                                <option value="SPY">S&P 500 (SPY)</option>
                                <option value="AAPL">Apple (AAPL)</option>
                                <option value="TSLA">Tesla (TSLA)</option>
                                <option value="META">Meta (META)</option>
                            </optgroup>

                            <!-- Tech Stocks -->
                            <optgroup label="üíª" data-translate="assets.categories.technologyStocks">
                                <option value="AAPL">Apple (AAPL)</option>
                                <option value="MSFT">Microsoft (MSFT)</option>
                                <option value="GOOGL">Google (GOOGL)</option>
                                <option value="META">Meta (META)</option>
                                <option value="NVDA">NVIDIA (NVDA)</option>
                                <option value="TSLA">Tesla (TSLA)</option>
                                <option value="AMZN">Amazon (AMZN)</option>
                            </optgroup>

                            <!-- Traditional Stocks -->
                            <optgroup label="üè¢" data-translate="assets.categories.traditionalStocks">
                                <option value="BRK-B">Berkshire Hathaway (BRK-B)</option>
                                <option value="JNJ">Johnson & Johnson (JNJ)</option>
                                <option value="V">Visa (V)</option>
                                <option value="WMT">Walmart (WMT)</option>
                            </optgroup>

                            <!-- Bonds -->
                            <optgroup label="üìú" data-translate="assets.categories.bonds">
                                <option value="TLT" data-translate="assets.assetNames.twentyYearTreasuryTLT">20+ Year Treasury (TLT)</option>
                                <option value="HYG" data-translate="assets.assetNames.highYieldCorporateHYG">High Yield Corporate (HYG)</option>
                            </optgroup>

                            <!-- International Markets -->
                            <optgroup label="üåç" data-translate="assets.categories.internationalMarkets">
                                <option value="EWU" data-translate="assets.assetNames.ukMarketEWU">UK Market (EWU)</option>
                                <option value="EWG" data-translate="assets.assetNames.germanyETFEWG">Germany ETF (EWG)</option>
                                <option value="EWJ" data-translate="assets.assetNames.japanETFEWJ">Japan ETF (EWJ)</option>
                                <option value="VXUS" data-translate="assets.assetNames.internationalStocksVXUS">International Stocks (VXUS)</option>
                                <option value="EFA" data-translate="assets.assetNames.developedMarketsEFA">Developed Markets (EFA)</option>
                            </optgroup>

                            <!-- Real Estate -->
                            <optgroup label="üè†" data-translate="assets.categories.realEstate">
                                <option value="VNQ" data-translate="assets.assetNames.vanguardREITVNQ">Vanguard REIT (VNQ)</option>
                                <option value="VNO">Vornado Realty (VNO)</option>
                                <option value="PLD">Prologis (PLD)</option>
                                <option value="EQIX">Equinix (EQIX)</option>
                            </optgroup>

                            <!-- Commodities -->
                            <optgroup label="üè≠" data-translate="assets.categories.commodities">
                                <option value="XAU" data-translate="assets.assetNames.goldXAU">Gold (XAU)</option>
                                <option value="XAG" data-translate="assets.assetNames.silverXAG">Silver (XAG)</option>
                                <option value="WTI" data-translate="assets.assetNames.crudeOilWTI">Crude Oil (WTI)</option>
                                <option value="CPER" data-translate="assets.assetNames.copperCPER">Copper (CPER)</option>
                                <option value="WEAT" data-translate="assets.assetNames.wheatWEAT">Wheat (WEAT)</option>
                                <option value="UNG" data-translate="assets.assetNames.naturalGasUNG">Natural Gas (UNG)</option>
                                <option value="URA" data-translate="assets.assetNames.uraniumURA">Uranium (URA)</option>
                                <option value="DBA" data-translate="assets.assetNames.agricultureDBA">Agriculture (DBA)</option>
                            </optgroup>
                        </select>
                    </div>

                    <!-- Asset Description Section -->
                    <div id="assetDescription" class="mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6">
                        <h3 id="assetTitle" class="text-xl font-bold text-gray-900 mb-3">Gold (XAU)</h3>
                        <p id="assetDescriptionText" class="text-gray-700 leading-relaxed">
                            Gold has been humanity's store of value for over 5,000 years and remains the most recognized alternative to fiat currency. Central banks hold gold as reserves, and investors traditionally view it as a hedge against inflation and economic uncertainty. However, when measured against Bitcoin, gold has consistently underperformed, revealing Bitcoin's superior monetary properties as the ultimate store of value for the digital age.
                        </p>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span id="assetCategory" class="px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full font-medium">Commodity</span>
                            <div id="assetTags" class="flex flex-wrap gap-2">
                                <!-- Tags will be dynamically rendered here -->
                            </div>
                        </div>
                    </div>

                    <!-- Denomination Toggle -->
                    <div class="mb-4 flex items-center justify-end">
                        <span class="mr-3 text-sm font-medium" data-translate="assets.viewIn">View in:</span>
                        <div class="flex bg-gray-100 rounded-lg p-1">
                            <button id="btcDenomination" class="px-4 py-2 text-sm font-medium rounded-md bg-blue-500 text-white" data-translate="assets.bitcoin">Bitcoin</button>
                            <button id="usdDenomination" class="px-4 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-200" data-translate="assets.usd">USD</button>
                        </div>
                    </div>

                    <!-- Horizontal Performance Metrics -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold mb-3" data-translate="assets.performanceMetrics">Performance Metrics</h3>
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                            <div class="bg-gray-50 rounded p-3">
                                <div class="text-xs text-gray-600 mb-1" data-translate="assets.currentBTC">Current (BTC)</div>
                                <div id="assetPriceBTC" class="font-mono text-sm font-semibold">0.00000000</div>
                            </div>
                            <div class="bg-gray-50 rounded p-3">
                                <div class="text-xs text-gray-600 mb-1" data-translate="assets.currentUSD">Current (USD)</div>
                                <div id="assetPriceUSD" class="font-mono text-sm font-semibold">$0.00</div>
                            </div>
                            <div class="bg-gray-50 rounded p-3">
                                <div class="text-xs text-gray-600 mb-1" data-translate="time.twentyFourHours">24h</div>
                                <div id="asset24h" class="text-sm font-semibold">-</div>
                            </div>
                            <div class="bg-gray-50 rounded p-3">
                                <div class="text-xs text-gray-600 mb-1" data-translate="time.oneYear">1 Year</div>
                                <div id="asset1y" class="text-sm font-semibold">-</div>
                            </div>
                            <div class="bg-gray-50 rounded p-3">
                                <div class="text-xs text-gray-600 mb-1" data-translate="time.fiveYears">5 Years</div>
                                <div id="asset5y" class="text-sm font-semibold">-</div>
                            </div>
                            <div class="bg-gray-50 rounded p-3">
                                <div class="text-xs text-gray-600 mb-1" data-translate="time.tenYears">10 Years</div>
                                <div id="assetAllTime" class="text-sm font-semibold">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Full Width Chart -->
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Price Chart (<span id="chartDenomination">in Bitcoin</span>)</h3>
                        <div id="assetChart" class="bg-gray-100 rounded" style="height: 600px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Form (Hidden by default) -->
        <div id="loginForm" class="hidden max-w-md mx-auto pt-20">
            <div class="bg-white p-8 rounded-lg shadow-md">
                <h1 class="text-2xl font-bold mb-6 text-center">Measure Everything in Bitcoin</h1>
                <p class="text-gray-600 mb-6 text-center">Beat Bitcoin's performance by trading it for other assets!</p>
                
                <form id="authForm">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                        <input type="email" id="email" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                    </div>
                    <div class="mb-4" id="usernameField" style="display: none;">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Username (for new accounts)</label>
                        <input type="text" id="username" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                    </div>
                    <button type="submit" class="w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600">
                        Send Magic Link
                    </button>
                </form>
                
                <div id="authMessage" class="mt-4 text-center hidden"></div>
            </div>
        </div>

        <!-- Portfolio Page (Requires Auth) -->
        <div id="mainApp" class="hidden">

            <div class="max-w-6xl mx-auto p-6">
                <!-- Portfolio Overview -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h2 class="text-xl font-bold mb-4" data-translate="portfolio.overview">Portfolio Overview</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-orange-50 p-4 rounded">
                            <h3 class="font-semibold text-orange-800" data-translate="portfolio.totalValue">Total Value</h3>
                            <p id="totalValue" class="text-2xl font-bold text-orange-600">0 sats</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded">
                            <h3 class="font-semibold text-green-800" data-translate="portfolio.performance">Performance</h3>
                            <p id="performance" class="text-2xl font-bold text-green-600">0%</p>
                        </div>
                    </div>
                </div>

                <!-- Set & Forget Portfolios Section -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold text-gray-800" data-translate="portfolio.setForgetPortfolio">Set & Forget Portfolios</h2>
                        <button id="createSetForgetBtn" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded transition-colors">
                            <span data-translate="portfolio.createSetForget">Create Portfolio</span>
                        </button>
                    </div>

                    <!-- Set & Forget Portfolios List -->
                    <div id="setForgetPortfoliosList" class="space-y-4"></div>

                    <!-- No portfolios message -->
                    <div id="noSetForgetPortfolios" class="text-center py-8 text-gray-500 hidden">
                        <p class="mb-2">You haven't created any portfolios yet.</p>
                        <p class="text-sm">Create portfolios to track how different asset allocations perform against Bitcoin over time.</p>
                    </div>
                </div>

                <!-- Set & Forget Portfolio Creation Modal -->
                <div id="setForgetModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto">
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-2xl font-bold text-gray-800" data-translate="portfolio.createSetForget">Create Set & Forget Portfolio</h3>
                                    <button id="closeSetForgetModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                    <!-- Left Column: Form -->
                                    <div>
                                        <form id="setForgetForm">
                                            <div class="mb-6">
                                                <label class="block text-gray-700 text-sm font-bold mb-2" data-translate="portfolio.portfolioName">Portfolio Name</label>
                                                <input type="text" id="setForgetName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-orange-500" placeholder="My 10-Year Portfolio" required>
                                            </div>

                                            <div class="mb-6">
                                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                                    <div class="flex items-center">
                                                        <span class="text-blue-600 mr-2">üí∞</span>
                                                        <div class="text-sm text-blue-800">
                                                            <p class="font-medium" data-translate="portfolio.allocationInfo">Portfolio Allocation: 1 BTC equivalent</p>
                                                            <p data-translate="portfolio.allocationDescription">Compare how different asset allocations perform against holding Bitcoin over time.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="mb-6">
                                                <label class="block text-gray-700 text-sm font-bold mb-2" data-translate="portfolio.assetAllocations">Asset Allocations</label>
                                                <div id="allocationInputs" class="space-y-3">
                                                    <!-- Allocation inputs will be dynamically added here -->
                                                </div>
                                                <div class="mt-2 flex justify-between text-sm">
                                                    <span data-translate="portfolio.totalAllocation">Total Allocation:</span>
                                                    <span id="totalAllocation" class="font-medium">0%</span>
                                                </div>
                                            </div>

                                            <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                                                <div class="flex items-center">
                                                    <span class="text-green-600 mr-2">üìä</span>
                                                    <div class="text-sm text-green-800">
                                                        <p class="font-medium" data-translate="portfolio.performanceTracking">Performance Tracking:</p>
                                                        <p data-translate="portfolio.performanceDescription">This portfolio will track performance over time to demonstrate the Bitcoin Standard principle.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="flex gap-3">
                                                <button type="submit" id="createSetForgetSubmit" class="flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                                    <span data-translate="portfolio.createSetForget">Create Portfolio</span>
                                                </button>
                                                <button type="button" id="cancelSetForget" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                                    <span data-translate="common.cancel">Cancel</span>
                                                </button>
                                            </div>
                                        </form>
                                    </div>

                                    <!-- Right Column: Allocation Pie Chart -->
                                    <div>
                                        <h4 class="text-lg font-semibold mb-4">Allocation Preview</h4>
                                        <div class="relative">
                                            <canvas id="allocationChart" width="300" height="300" class="mx-auto"></canvas>
                                            <div id="chartLegend" class="mt-4 space-y-2"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Set & Forget Portfolio Details Modal -->
                <div id="setForgetDetailsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto">
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 id="portfolioDetailsTitle" class="text-2xl font-bold text-gray-800"></h3>
                                    <div class="flex gap-2">
                                        <button id="sharePortfolioBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors">
                                            <span data-translate="portfolio.share">Share</span>
                                        </button>
                                        <button id="deletePortfolioBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-colors hidden">
                                            Delete
                                        </button>
                                        <button id="closeSetForgetDetailsModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                                    </div>
                                </div>

                                <!-- Portfolio Details Content -->
                                <div id="portfolioDetailsContent"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Delete Confirmation Modal -->
                <div id="deleteConfirmModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                            <div class="p-6">
                                <div class="flex items-center mb-4">
                                    <span class="text-red-500 mr-3 text-2xl">‚ö†Ô∏è</span>
                                    <h3 class="text-lg font-semibold text-gray-800">Confirm Deletion</h3>
                                </div>
                                <p id="deleteConfirmMessage" class="text-gray-600 mb-6"></p>
                                <div class="flex gap-3 justify-end">
                                    <button id="cancelDeleteBtn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                        Cancel
                                    </button>
                                    <button id="confirmDeleteBtn" class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors">
                                        Delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Donator Achievement Modal -->
                <div id="donatorAchievementModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                            <div class="p-6">
                                <div class="flex items-center mb-4">
                                    <span class="text-orange-500 mr-3 text-2xl">üèÜ</span>
                                    <h3 class="text-lg font-semibold text-gray-800">Unlock Donator Achievement</h3>
                                </div>
                                <p class="text-gray-600 mb-4">
                                    You can create 1 Set & Forget portfolio. To unlock more portfolios and additional features, support the project with a donation to earn the Donator achievement!
                                </p>
                                <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6">
                                    <h4 class="font-semibold text-orange-800 mb-2">üéñÔ∏è Donator Benefits:</h4>
                                    <ul class="text-sm text-orange-700 space-y-1">
                                        <li>‚Ä¢ Up to 5 Set & Forget portfolios</li>
                                        <li>‚Ä¢ Exclusive donator badge</li>
                                        <li>‚Ä¢ Support open-source development</li>
                                    </ul>
                                </div>
                                <div class="flex gap-3 justify-end">
                                    <button id="cancelDonationBtn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                        Maybe Later
                                    </button>
                                    <button id="donateBtn" class="px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors">
                                        üéÅ Donate & Unlock
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Keep old modal ID for backwards compatibility -->
                <div id="premiumUpgradeModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                            <div class="p-6">
                                <div class="flex items-center mb-4">
                                    <span class="text-orange-500 mr-3 text-2xl">üèÜ</span>
                                    <h3 class="text-lg font-semibold text-gray-800">Unlock Donator Achievement</h3>
                                </div>
                                <p class="text-gray-600 mb-4">
                                    You can create 1 Set & Forget portfolio. To unlock more portfolios and additional features, support the project with a donation to earn the Donator achievement!
                                </p>
                                <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6">
                                    <h4 class="font-semibold text-orange-800 mb-2">üéñÔ∏è Donator Benefits:</h4>
                                    <ul class="text-sm text-orange-700 space-y-1">
                                        <li>‚Ä¢ Up to 5 Set & Forget portfolios</li>
                                        <li>‚Ä¢ Exclusive donator badge</li>
                                        <li>‚Ä¢ Support open-source development</li>
                                    </ul>
                                </div>
                                <div class="flex gap-3 justify-end">
                                    <button id="cancelUpgradeBtn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                        Maybe Later
                                    </button>
                                    <button id="upgradeBtn" class="px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors">
                                        üéÅ Donate & Unlock
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Portfolio Share Modal -->
                <div id="portfolioShareModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full">
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-xl font-semibold text-gray-800" data-translate="portfolio.shareYourPortfolio">Share Your Portfolio</h3>
                                    <button id="closeShareModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                                </div>

                                <!-- Image Preview Section -->
                                <div class="mb-6">
                                    <h4 class="text-lg font-medium text-gray-700 mb-3" data-translate="portfolio.portfolioImage">Portfolio Image</h4>
                                    <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                                        <div id="imagePreviewContainer" class="text-center">
                                            <div id="imageLoader" class="text-gray-500 py-8">
                                                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"></div>
                                                Generating image...
                                            </div>
                                            <img id="portfolioImagePreview" class="hidden max-w-full h-auto rounded shadow-lg mx-auto" alt="Portfolio Preview" />
                                            <div id="imageError" class="hidden text-red-500 py-8">
                                                Failed to generate image. Please try again.
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Image Generation Info -->
                                    <div id="imageGenerationInfo" class="hidden mt-3 p-3 bg-blue-50 border border-blue-200 rounded text-sm text-blue-700">
                                        <div id="imageTimestampText"></div>
                                    </div>
                                </div>

                                <!-- Share Options -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                                    <div class="border border-gray-200 rounded-lg p-4">
                                        <h4 class="font-medium text-gray-700 mb-2" data-translate="portfolio.portfolioLink">Portfolio Link</h4>
                                        <div class="flex gap-2">
                                            <input id="shareUrlInput" type="text" readonly class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-50" placeholder="Generating link..." />
                                            <button id="copyUrlBtn" class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm font-medium transition-colors">
                                                <span data-translate="portfolio.copy">Copy</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="border border-gray-200 rounded-lg p-4">
                                        <h4 class="font-medium text-gray-700 mb-2" data-translate="portfolio.portfolioImage">Portfolio Image</h4>
                                        <div class="flex gap-2">
                                            <input id="imageUrlInput" type="text" readonly class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-50" placeholder="Generating image..." />
                                            <button id="downloadImageBtn" class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded text-sm font-medium transition-colors">
                                                <span data-translate="portfolio.download">Download</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div class="flex justify-end">
                                    <button id="shareModalCloseBtn" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                        <span data-translate="portfolio.close">Close</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Top Row: Trade Assets (left) + Chart (right) -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <!-- Trading Module -->
                    <div class="bg-white rounded-lg shadow-md p-6 trade-form-container">
                        <h2 class="text-xl font-bold mb-4">Trade Assets</h2>
                        <form id="tradeForm">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">From Asset</label>
                                <!-- Native select for desktop -->
                                <select id="fromAsset" class="native-select w-full px-3 py-2 border rounded-lg">
                                    <!-- Options populated by JS -->
                                </select>
                                <!-- Custom select for mobile -->
                                <div id="fromAssetCustom" class="custom-select">
                                    <div class="custom-select-trigger">
                                        <span class="custom-select-text">Select asset...</span>
                                        <div class="custom-select-arrow"></div>
                                    </div>
                                    <div class="custom-select-options">
                                        <!-- Options populated by JS -->
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">To Asset</label>
                                <!-- Native select for desktop -->
                                <select id="toAsset" class="native-select w-full px-3 py-2 border rounded-lg">
                                    <!-- Options populated by JS -->
                                </select>
                                <!-- Custom select for mobile -->
                                <div id="toAssetCustom" class="custom-select">
                                    <div class="custom-select-trigger">
                                        <span class="custom-select-text">Select asset...</span>
                                        <div class="custom-select-arrow"></div>
                                    </div>
                                    <div class="custom-select-options">
                                        <!-- Options populated by JS -->
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Amount</label>
                                <div class="flex space-x-2">
                                    <input type="number" id="tradeAmount" step="0.00000001" class="flex-1 px-3 py-2 border rounded-lg">
                                    <!-- Native select for desktop -->
                                    <select id="amountUnit" class="native-select px-3 py-2 border rounded-lg bg-white">
                                        <option value="btc">BTC</option>
                                        <option value="msat">mSats</option>
                                        <option value="ksat">kSats</option>
                                        <option value="sat">Sats</option>
                                    </select>
                                    <!-- Custom select for mobile -->
                                    <div id="amountUnitCustom" class="custom-select" style="min-width: 80px;">
                                        <div class="custom-select-trigger">
                                            <span class="custom-select-text">BTC</span>
                                            <div class="custom-select-arrow"></div>
                                        </div>
                                        <div class="custom-select-options">
                                            <div class="custom-select-option selected" data-value="btc">BTC</div>
                                            <div class="custom-select-option" data-value="msat">mSats</div>
                                            <div class="custom-select-option" data-value="ksat">kSats</div>
                                            <div class="custom-select-option" data-value="sat">Sats</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-xs mt-1">
                                    <span id="amountHelper" class="text-gray-500">1 BTC = 100 mSats = 100,000 kSats = 100,000,000 sats</span>
                                </div>
                            </div>
                            <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600">
                                Execute Trade
                            </button>
                        </form>
                    </div>

                    <!-- TradingView Chart -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4">Price Chart</h2>
                        <div id="tradingview-widget-container" style="height: 600px;">
                            <!-- TradingView Widget - Updates based on Trade Assets dropdowns -->
                        </div>
                    </div>
                </div>

                <!-- Bottom Row: Holdings (left) + Recent Trades (right) -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Holdings -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4">Your Holdings</h2>
                        <div id="holdings" class="space-y-3 max-h-96 overflow-y-auto pr-2">
                            <!-- Holdings will be populated here -->
                        </div>
                    </div>

                    <!-- Recent Trades -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-xl font-bold mb-4">Recent Trades</h2>
                        <div id="tradeHistory" class="overflow-x-auto max-h-96 overflow-y-auto">
                            <!-- Trade history will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom Notification -->
        <div id="notification" class="fixed top-4 right-4 z-50 hidden">
            <div class="bg-white border-l-4 border-green-500 rounded-lg shadow-lg p-4 max-w-sm">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div id="notificationIcon" class="w-5 h-5 text-green-500">‚úì</div>
                    </div>
                    <div class="ml-3">
                        <p id="notificationMessage" class="text-sm font-medium text-gray-900"></p>
                    </div>
                    <div class="ml-auto pl-3">
                        <button id="closeNotification" class="text-gray-400 hover:text-gray-600">
                            <span class="sr-only">Close</span>
                            ‚úï
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Asset Details Modal -->
        <div id="assetModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-hidden">
                    <div class="p-6 border-b">
                        <div class="flex justify-between items-center">
                            <h3 id="modalTitle" class="text-lg font-semibold">Asset Details</h3>
                            <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                                <span class="sr-only">Close</span>
                                ‚úï
                            </button>
                        </div>
                    </div>
                    <div class="p-6 overflow-y-auto max-h-80">
                        <div id="modalContent">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Suggestions Floating Button -->
        <button id="suggestionsFab" class="suggestions-float-btn" title="Make a suggestion or report a bug">
            üí°
        </button>

        <!-- Suggestions Modal -->
        <div id="suggestionsModal" class="suggestions-modal">
            <div class="suggestions-modal-content relative">
                <button id="closeSuggestionsModal" class="suggestions-close">&times;</button>

                <!-- Tab Header -->
                <div class="suggestions-tab-header">
                    <button id="submitTab" class="suggestions-tab active">Submit New</button>
                    <button id="mySuggestionsTab" class="suggestions-tab">My Suggestions</button>
                </div>

                <!-- Submit Tab Content -->
                <div id="submitTabContent" class="suggestions-tab-content">
                    <div id="rateLimitWarning" class="rate-limit-warning hidden">
                        <strong>Rate limit exceeded!</strong><br>
                        You can submit another suggestion in <span id="rateLimitCountdown"></span>.
                    </div>

                    <div id="suggestionSuccessMessage" class="suggestion-success-message hidden">
                        <div class="success-icon">‚úÖ</div>
                        <div class="success-text">
                            <strong>Success!</strong><br>
                            Your <span id="successType">suggestion</span> has been submitted successfully!
                        </div>
                    </div>

                    <form id="suggestionsForm">
                        <div class="suggestions-form-group">
                            <label>Type:</label>
                            <div class="suggestions-radio-group">
                                <div class="suggestions-radio-item">
                                    <input type="radio" name="type" value="suggestion" id="typeSuggestion" checked>
                                    <label for="typeSuggestion">üí° Suggestion</label>
                                </div>
                                <div class="suggestions-radio-item">
                                    <input type="radio" name="type" value="bug" id="typeBug">
                                    <label for="typeBug">üêõ Bug Report</label>
                                </div>
                            </div>
                        </div>

                        <div class="suggestions-form-group">
                            <label for="suggestionTitle">Title:</label>
                            <input type="text" id="suggestionTitle" class="suggestions-input" maxlength="255" required>
                        </div>

                        <div class="suggestions-form-group">
                            <label for="suggestionDescription">Description:</label>
                            <textarea id="suggestionDescription" class="suggestions-input suggestions-textarea" maxlength="5000" required></textarea>
                        </div>

                        <div class="flex gap-2">
                            <button type="submit" id="submitSuggestionBtn" class="suggestions-btn flex-1">Submit</button>
                            <button type="button" id="cancelSuggestionBtn" class="suggestions-btn" style="background: #6b7280;">Cancel</button>
                        </div>
                    </form>
                </div>

                <!-- My Suggestions Tab Content -->
                <div id="mySuggestionsTabContent" class="suggestions-tab-content hidden">
                    <div id="mySuggestionsList">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Tooltip -->
    <div id="customTooltip" class="custom-tooltip"></div>

    <script type="module" src="/src/client/app.js"></script>
</body>
</html>
